(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{291:function(e,t,a){"use strict";var n=a(627),r=a(626),o=a(571),s=a(617),l=a(0),c=a.n(l),i=a(18),m=a(58);t.a=function(){var e=Object(i.g)();return c.a.createElement(m.a,null,c.a.createElement(n.a,{sx:{display:"flex",flexDirection:"column",alignContent:"center",justifyContent:"center",height:"60vh"}},c.a.createElement(r.a,{elevation:3,sx:{border:1,borderColor:"#EF4242",display:"flex",flexDirection:"column",alignContent:"center",justifyContent:"center",m:{xs:1,sm:15},p:{xs:2,sm:4},backgroundColor:"#eaeaea"}},c.a.createElement(o.a,{sx:{p:2,color:"#595959",fontSize:"1.6rem"},textAlign:"center"},"You are not authorized to access this page !!!"),c.a.createElement(s.a,{onClick:function(){e("/login")},sx:{p:2,fontWeight:"bold"}},"Login To access this page"))))}},594:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a(24),o=a(8),s=a.n(o),l=a(10),c=a(6),i=a(0),m=a.n(i),u=a(629),d=a(630),f=a(631),x=a(625),p=a(618),g=a(571),b=a(610),w=a(627),E=a(628),h=a(29),v=a(18),C=a(28),y=a(15),P=a(58),S=a(19),k=a.n(S),j=a(291),O=k.a.mixin({background:"#1E1E1E",color:"white",toast:!0,position:"top-end",showConfirmButton:!1,timerProgressBar:!0}),A={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"60vw",bgcolor:"background.paper",borderRadius:"4px",boxShadow:24,p:4};t.default=function(){var e=Object(v.g)(),t=Object(i.useState)({oldPassword:"",newPassword:"",cPassword:""}),a=Object(c.a)(t,2),o=a[0],S=a[1],z=Object(i.useState)(""),D=Object(c.a)(z,2),I=D[0],B=D[1],F=Object(i.useState)({}),T=Object(c.a)(F,2),W=T[0],N=T[1],q=m.a.useState(!1),H=Object(c.a)(q,2),L=H[0],G=H[1],J=function(){G(!1),S({oldPassword:"",newPassword:"",cPassword:""})};Object(i.useEffect)(function(){Object(l.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/user/".concat(localStorage.userId),{headers:{"auth-token":localStorage.userToken}});case 2:(t=e.sent).data.user&&N(t.data.user);case 4:case"end":return e.stop()}},e)}))()},[]);var R=function(e){S(Object(r.a)({},o,Object(n.a)({},e.target.name,e.target.value)))},U=function(){var e=Object(l.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(o.newPassword.length<8)){e.next=4;break}return B("Password need to be atleast 8 digits"),e.abrupt("return");case 4:if(o.newPassword===o.cPassword){e.next=7;break}return B("Passwords do not match"),e.abrupt("return");case 7:return e.prev=7,e.next=10,y.a.put("/user/changepassword/".concat(localStorage.userId),o,{headers:{"auth-token":localStorage.userToken}});case 10:O.fire({position:"bottom-right",icon:"success",title:"Password changed",showConfirmButton:!1,timer:3e3}),J(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(7),B(e.t0.response.data.message);case 17:case"end":return e.stop()}},e,null,[[7,14]])}));return function(t){return e.apply(this,arguments)}}();return localStorage.userToken?m.a.createElement(P.a,null,m.a.createElement(x.a,{sx:{textAlign:"center",fontSize:{xs:"1rem",sm:"1.3rem"},fontFamily:"sans-serif",mt:2,color:"#609acf"},component:"p"},"User Profile"),m.a.createElement(p.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center"},m.a.createElement(u.a,{elevation:3,sx:{border:"1px solid #609acf",mt:3,display:"flex",maxHeight:"18rem",minHeight:{xs:0,sm:150},px:{xs:1,sm:7},py:{xs:2,sm:4}}},m.a.createElement(g.a,{component:"div",sx:{display:"flex",justifyContent:"center",alignItems:"center",mr:{xs:2,sm:5}}},m.a.createElement(f.a,{component:"img",sx:{margin:"0.4rem",maxWidth:{xs:120,sm:150},maxHeight:{xs:120,sm:150},borderRadius:100},src:W.image,alt:W.image})),m.a.createElement(d.a,{sx:{flex:1,display:"flex",flexDirection:"column",justifyContent:"center"}},m.a.createElement(x.a,{sx:{fontSize:{xs:"0.85rem",sm:"1rem"},fontFamily:"sans-serif",color:"#595959"},component:"p"},m.a.createElement("b",null,"Name :")," ",W.firstName),m.a.createElement(x.a,{sx:{mt:2,fontSize:{xs:"0.75rem",sm:"1rem",textAlign:"left"},fontFamily:"sans-serif",color:"#595959"},component:"p"},m.a.createElement("b",null,"Email :"),W.email),m.a.createElement(x.a,{sx:{mt:2,fontSize:{xs:"0.75rem",sm:"1rem",textAlign:"left"},fontFamily:"sans-serif",color:"#595959"},component:"p"},m.a.createElement("b",null,"Age :")," ",W.age),m.a.createElement(x.a,{sx:{mt:2,fontSize:{xs:"0.75rem",sm:"1rem",textAlign:"left"},fontFamily:"sans-serif",color:"#595959"},component:"p"},m.a.createElement("b",null,"Gender :")," ",W.gender),m.a.createElement(x.a,{sx:{mt:2,fontSize:{xs:"0.75rem",sm:"1rem",textAlign:"left"},fontFamily:"sans-serif",color:"#595959"},component:"p"},m.a.createElement("b",null,"Mobile :")," ",W.phone),m.a.createElement(x.a,{sx:{mt:2,fontSize:{xs:"0.75rem",sm:"1rem",textAlign:"left"},fontFamily:"sans-serif",color:"#595959"},component:"p"},m.a.createElement("b",null,"Blood Group :")," ",W.blood))),m.a.createElement(p.a,{alignItems:"center",display:"flex",flexDirection:{xs:"column",sm:"row"},justify:"center",sx:{pt:2}},m.a.createElement(C.b,{style:{textDecoration:"none"},state:{user:W},to:"/editprofile"},m.a.createElement(h.b,{value:"Edit Details",color:"#eaeaea",text:"#595959"})),m.a.createElement(C.b,{style:{textDecoration:"none"},to:"/prescriptions"},m.a.createElement(h.b,{value:"Prescriptions",color:"#eaeaea",text:"#595959"})),m.a.createElement(C.b,{style:{textDecoration:"none"},to:"/appointments"},m.a.createElement(h.b,{value:"Appointments",color:"#eaeaea",text:"#595959"})),m.a.createElement("div",{onClick:Object(l.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:G(!0);case 1:case"end":return e.stop()}},e)}))},m.a.createElement(h.b,{value:"Change Password",color:"#eaeaea",text:"#595959"})),m.a.createElement(C.b,{onClick:Object(l.a)(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.a.fire({title:"Are you sure?",text:"User will be logged out!",background:"#eaeaea",color:"#595959",showCancelButton:!0,cancelButtonColor:"#B81C1C",confirmButtonText:"Logout",confirmButtonColor:"#609ACF"});case 2:t.sent.isConfirmed&&(localStorage.removeItem("userToken"),localStorage.removeItem("userId"),localStorage.removeItem("userImage"),localStorage.removeItem("userName"),e("/login"));case 4:case"end":return t.stop()}},t)})),style:{textDecoration:"none"},to:"/profile"},m.a.createElement(h.b,{value:"Logout",color:"#eaeaea",text:"#B81C1C"})))),m.a.createElement(b.a,{open:L,onClose:J,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description"},m.a.createElement(g.a,{sx:A,component:"form",onSubmit:U},m.a.createElement(x.a,{sx:{textAlign:"center",fontSize:{xs:"1rem",sm:"1rem"},fontFamily:"sans-serif",color:"#1976D2"},component:"p"},"Change Password"),m.a.createElement(w.a,{sx:{p:{xs:0,sm:3}}},m.a.createElement(E.a,{sx:{mt:1},required:!0,fullWidth:!0,name:"oldPassword",label:"Old Password",type:"password",id:"oldPassword",onChange:R,value:o.oldPassword}),m.a.createElement(E.a,{sx:{mt:1},required:!0,fullWidth:!0,name:"newPassword",label:"New Password",type:"password",id:"newPassword",onChange:R,value:o.newPassword}),m.a.createElement(E.a,{sx:{mt:1},required:!0,fullWidth:!0,name:"cPassword",label:"Confirm Password",type:"password",id:"cPassword",onChange:R,value:o.cPassword}),I&&m.a.createElement(x.a,{sx:{mt:1,color:"red",fontSize:"0.8rem",textAlign:"center"}},I),m.a.createElement(p.a,{container:!0,sx:{mt:1}},m.a.createElement("div",{onClick:J},m.a.createElement(h.b,{value:"Cancel",color:"#eaeaea",text:"#CC3E34"})),m.a.createElement(h.b,{type:"submit",color:"#eaeaea",text:"#609acf",value:"Change Password"})," "))))):m.a.createElement(j.a,null)}}}]);
//# sourceMappingURL=26.72ff7e0f.chunk.js.map