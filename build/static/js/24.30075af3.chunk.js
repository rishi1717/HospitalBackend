(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{291:function(e,t,a){"use strict";var n=a(627),r=a(626),o=a(571),c=a(617),i=a(0),l=a.n(i),s=a(18),m=a(58);t.a=function(){var e=Object(s.g)();return l.a.createElement(m.a,null,l.a.createElement(n.a,{sx:{display:"flex",flexDirection:"column",alignContent:"center",justifyContent:"center",height:"60vh"}},l.a.createElement(r.a,{elevation:3,sx:{border:1,borderColor:"#EF4242",display:"flex",flexDirection:"column",alignContent:"center",justifyContent:"center",m:{xs:1,sm:15},p:{xs:2,sm:4},backgroundColor:"#eaeaea"}},l.a.createElement(o.a,{sx:{p:2,color:"#595959",fontSize:"1.6rem"},textAlign:"center"},"You are not authorized to access this page !!!"),l.a.createElement(c.a,{onClick:function(){e("/login")},sx:{p:2,fontWeight:"bold"}},"Login To access this page"))))}},624:function(e,t,a){"use strict";a.r(t);var n=a(8),r=a.n(n),o=a(10),c=a(6),i=a(627),l=a(625),s=a(571),m=a(628),u=a(629),x=a(618),d=a(630),f=a(15),E=a(0),p=a.n(E),b=a(617),g=a(425),v=a.n(g),h=a(422);function y(e){var t=e.prescriptions,a=e.user,n=new h.a;return n.setTextColor("#609acf"),n.setLineWidth(.2),n.rect(10,8,190,280),n.setFontSize(22),n.text("One Health Hospital",72,20),E.createElement(E.Fragment,null,t.map(function(e,t){return E.createElement(u.a,{key:e._id,sx:{display:"flex",m:"0.4rem",flexDirection:{xs:"column",md:"row"},borderRadius:2,backgroundColor:"#eaeaea"}},E.createElement(x.a,{container:!0,spacing:2},E.createElement(x.a,{item:!0,xs:12,sm:1},E.createElement(d.a,{sx:{flex:"1 0 auto",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},E.createElement(l.a,{variant:"subtitle1",color:"text.secondary",component:"div",sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},t+1))),E.createElement(x.a,{item:!0,xs:12,sm:3},E.createElement(d.a,{sx:{flex:"1 0 auto"}},e.medicine.map(function(e,t){return E.createElement(l.a,{key:t,variant:"subtitle1",color:"text.secondary",component:"div"},t+1,". ",e)}))),E.createElement(x.a,{item:!0,xs:12,sm:3},E.createElement(d.a,{sx:{flex:"1 0 auto"}},e.dosage.map(function(e,t){return E.createElement(l.a,{key:t,variant:"subtitle1",color:"text.secondary",component:"div"},e)}))),E.createElement(x.a,{item:!0,sm:2},E.createElement(d.a,{sx:{flex:"1 0"}},E.createElement(l.a,{variant:"subtitle1",color:"text.secondary",component:"div"},e.date))),E.createElement(x.a,{item:!0,sm:2},E.createElement(d.a,{sx:{flex:"1 0"}},E.createElement(l.a,{variant:"subtitle1",color:"text.secondary",component:"div"},e.doctor))),E.createElement(x.a,{item:!0,sm:1},E.createElement(d.a,{sx:{flex:"0.1 0"}},E.createElement(l.a,{variant:"subtitle1",color:"text.secondary",component:"div",textAlign:"center"},E.createElement(b.a,{onClick:function(){n.setTextColor("#595959"),n.setFontSize(16),n.text("Prescription for : "+a.firstName+" "+a.secondName,20,40),n.text("Age : "+a.age,150,40),n.text("Date : "+e.date,20,50),n.text("Prescribed by : Dr. "+e.doctor,20,60),e.medicine.forEach(function(t,a){n.text(a+1+") ",20,80+40*a),n.text("Medicine : "+t,27,80+40*a),n.text("Prescribed for : "+e.prescribedFor[a],27,90+40*a),n.text("Dosage : "+e.dosage[a],27,100+40*a)}),n.save(e.medicine+".pdf")}},E.createElement(v.a,null)))))))}))}var w=a(58),C=a(291);t.default=function(){var e=Object(E.useState)([]),t=Object(c.a)(e,2),a=t[0],n=t[1],b=Object(E.useState)({}),g=Object(c.a)(b,2),v=g[0],h=g[1],j=Object(E.useState)([]),k=Object(c.a)(j,2),S=k[0],D=k[1],O=Object(E.useState)(""),F=Object(c.a)(O,2),T=F[0],R=F[1];Object(E.useEffect)(function(){Object(o.a)(r.a.mark(function e(){var t,a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("/prescription/".concat(localStorage.userId),{headers:{"auth-token":localStorage.userToken}});case 2:return t=e.sent,n(t.data.prescription),e.next=6,f.a.get("/user/".concat(localStorage.userId),{headers:{"auth-token":localStorage.userToken}});case 6:a=e.sent,h(a.data.user);case 8:case"end":return e.stop()}},e)}))()},[]);var z=function(e){e.preventDefault();var t=new FormData(e.currentTarget);R(t.get("search").toLowerCase())};return Object(E.useEffect)(function(){var e=a.filter(function(e){return Object.entries(e).some(function(e){return String(e[1]).toLowerCase().includes(T)})});D(e)},[T]),localStorage.userToken?p.a.createElement(w.a,null,p.a.createElement(i.a,{sx:{mb:10}},p.a.createElement(l.a,{sx:{textAlign:"center",fontSize:{xs:"1rem",sm:"1.5rem"},fontFamily:"sans-serif",mt:2,color:"#1976D2"},component:"p"},"Prescriptions"),p.a.createElement(s.a,{display:"flex",justifyContent:"center",component:"form",autoComplete:"off",onChange:z,onSubmit:z,noValidate:!0,sx:{mt:1,mb:2}},p.a.createElement(m.a,{margin:"normal",fullWidth:!0,id:"search",label:"Search",name:"search",autoFocus:!0,variant:"standard",sx:{width:"90%"}})),p.a.createElement(u.a,{sx:{display:{xs:"none",sm:"flex"},m:"1rem",flexDirection:{xs:"column",md:"row"},backgroundColor:"#585858"}},p.a.createElement(x.a,{container:!0,spacing:2},p.a.createElement(x.a,{item:!0,xs:1},p.a.createElement(d.a,{sx:{flex:"1 0 auto"}},p.a.createElement(l.a,{variant:"subtitle1",color:"white",component:"div",borderRight:1},"In"))),p.a.createElement(x.a,{item:!0,xs:3},p.a.createElement(d.a,{sx:{flex:"1 0 auto"}},p.a.createElement(l.a,{variant:"subtitle1",color:"white",component:"div",borderRight:1},"Medicine"))),p.a.createElement(x.a,{item:!0,xs:3},p.a.createElement(d.a,null,p.a.createElement(l.a,{variant:"subtitle1",color:"white",component:"div",borderRight:1},"Dosage"))),p.a.createElement(x.a,{item:!0,xs:2},p.a.createElement(d.a,null,p.a.createElement(l.a,{variant:"subtitle1",color:"white",component:"div",borderRight:1},"Date"))),p.a.createElement(x.a,{item:!0,xs:2},p.a.createElement(d.a,{sx:{flex:"1 0 auto"}},p.a.createElement(l.a,{variant:"subtitle1",color:"white",component:"div",borderRight:1},"Doctor"))),p.a.createElement(x.a,{item:!0,xs:1},p.a.createElement(d.a,null,p.a.createElement(l.a,{variant:"subtitle1",color:"white",component:"div"}))))),p.a.createElement(y,{prescriptions:0===S.length&&""===T?a:S,user:v}))):p.a.createElement(C.a,null)}}}]);
//# sourceMappingURL=24.30075af3.chunk.js.map