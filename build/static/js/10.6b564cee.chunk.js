(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{369:function(e,t,a){"use strict";var n=a(6),r=a(0),o=a(631),c=a(567),l=a(628),s=a(627),i=a(620),m=a(539),u=a(53),d=a.n(u),p=a(622),f=a(611),b=a(615),x=a(51),g=a.n(x),h=a(28),E={padding:"1rem",textDecoration:"none",color:"white"},v={padding:"1rem",textDecoration:"none",color:"black"};t.a=function(){var e=r.useState(null),t=Object(n.a)(e,2),a=t[0],u=t[1],x=function(){u(null)};return r.createElement(o.a,{position:"static",sx:{borderRadius:"0.6rem"}},r.createElement("style",null,"@import url('https://fonts.googleapis.com/css2?family=Sniglet&display=swap')"),r.createElement(p.a,{maxWidth:"xl"},r.createElement(l.a,{disableGutters:!0},r.createElement(s.a,{sx:{p:0,display:{xs:"none",sm:"flex"}}},r.createElement(f.a,{sx:{display:{xs:"none",sm:"flex"}},alt:"One Health",src:g.a}),r.createElement(h.b,{style:E,to:"/doctor"},r.createElement(i.a,{variant:"h6",noWrap:!0,component:"div",sx:{fontFamily:"Sniglet",fontSize:"1.1rem",color:"white",mr:2,display:{xs:"none",sm:"flex"}}},"One Health Hospital"))),r.createElement(c.a,{sx:{flexGrow:1,display:{xs:"flex",sm:"none"}}},r.createElement(s.a,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){u(e.currentTarget)},color:"inherit"},r.createElement(d.a,null)),r.createElement(m.a,{id:"menu-appbar",anchorEl:a,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:Boolean(a),onClose:x,sx:{display:{xs:"block",sm:"none"}}},r.createElement(b.a,{onClick:x},r.createElement(h.b,{style:v,to:"/doctor"},r.createElement(i.a,{textAlign:"center"},"Home"))),r.createElement(b.a,{onClick:x},r.createElement(h.b,{style:v,to:"/doctor/login"},r.createElement(i.a,{textAlign:"center"},"Login"))),r.createElement(b.a,{onClick:x},r.createElement(h.b,{style:v,to:"/doctor/register"},r.createElement(i.a,{textAlign:"center"},"Register"))))),r.createElement(c.a,{sx:{flexGrow:0,marginLeft:"auto",display:{xs:"flex",sm:"flex"}}},r.createElement(h.b,{style:E,to:"/doctor/login"},"Login"),r.createElement(h.b,{style:E,to:"/doctor/register"},"Register")))))}},608:function(e,t,a){"use strict";a.r(t);var n=a(10),r=a.n(n),o=a(12),c=a(3),l=a(19),s=a(6),i=a(0),m=a.n(i),u=a(611),d=a(612),p=a(623),f=a(567),b=a(613),x=a(124),g=a.n(x),h=a(620),E=a(622),v=a(121),O=a(17),y=a(14),j=a(20),w=a.n(j),S=a(126),k=a.n(S),C=a(621),T=a(26),W=a(87),P=a(369),I=a(29),V=w.a.mixin({background:"#1E1E1E",color:"white",toast:!0,position:"top-end",showConfirmButton:!1,timerProgressBar:!0}),D=function(e){var t=e.phone,a=e.setOtp,n=e.otpData,x=Object(T.b)(),E=m.a.useState(30),j=Object(s.a)(E,2),w=j[0],S=j[1];Object(i.useEffect)(function(){var e=setInterval(function(){S(w-1)},1e3);return w<1&&clearInterval(e),function(){return clearInterval(e)}},[w]);var k=Object(O.g)(),P=m.a.useState(),D=Object(s.a)(P,2),q=D[0],R=D[1],B=Object(v.a)(),F=B.register,H=B.handleSubmit,L=B.reset,z=B.formState.errors,A=m.a.useState({otpVerify:"",phone:t}),G=Object(s.a)(A,2),J=G[0],N=G[1],M=function(){var e=Object(o.a)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.post("/doctor/otpverify",J);case 3:200===(t=e.sent).status?(console.log(t.data),x(Object(W.d)(t.data.token)),x(Object(W.a)(t.data.doctor._id)),x(Object(W.c)(t.data.doctor.name)),x(Object(W.b)(t.data.doctor.image)),V.fire({position:"bottom-right",icon:"success",title:"user Logged in",showConfirmButton:!1,timer:3e3}),k("/doctor")):R("Incorrect OTP"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),e.t0.response&&R(e.t0.response.data.message),console.log(e.t0.message);case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}();return m.a.createElement(b.a,{item:!0,xs:12,sm:8,md:5,component:C.a,elevation:6,square:!0,sx:{border:"1px solid #609acf",borderRadius:"1rem"}},m.a.createElement(f.a,{sx:{my:4,mx:4,display:"flex",flexDirection:"column",alignItems:"center"}},m.a.createElement(u.a,{sx:{m:1,bgcolor:"secondary.main"}},m.a.createElement(g.a,null)),m.a.createElement(h.a,{component:"h1",variant:"h5"},"Sign in"),m.a.createElement(f.a,{component:"form",noValidate:!0,onSubmit:H(M),sx:{mt:1}},m.a.createElement(p.a,Object.assign({},F("otpVerify",{required:"Provide OTP!"}),{margin:"normal",required:!0,fullWidth:!0,id:"otpVerify",label:"OTP",name:"otpVerify",autoComplete:"otpVerify",autoFocus:!0,onChange:function(e){var t=e.currentTarget;N(Object(l.a)({},J,Object(c.a)({},t.name,t.value))),L()},value:J.otpVerify,error:!!z.otpVerify,helperText:z.otpVerify?z.otpVerify.message:null})),m.a.createElement(h.a,{sx:{color:"red",m:1}},q||""),m.a.createElement(d.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Verify OTP"),m.a.createElement(d.a,{onClick:function(){a(!1)},fullWidth:!0,sx:{mb:4}},"Sign In With Email and password"),w>0?m.a.createElement("div",null,"Resend OTP in ",w," sec"):m.a.createElement("div",{onClick:Object(o.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.post("/doctor/otplogin",n);case 3:S(30),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0.message);case 9:case"end":return e.stop()}},e,null,[[0,6]])}))},m.a.createElement(I.b,{value:"Resend OTP",text:"#609acf",color:"#eaeaea"})))))},q=a(28),R=function(e){var t=e.setOtp,a=m.a.useState(),n=Object(s.a)(a,2),i=n[0],x=n[1],E=m.a.useState(!1),O=Object(s.a)(E,2),j=O[0],w=O[1],S=Object(v.a)(),k=S.register,T=S.handleSubmit,W=S.formState.errors,P=m.a.useState({phone:"+91"}),I=Object(s.a)(P,2),V=I[0],R=I[1],B=function(){var e=Object(o.a)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("doc"),e.next=4,y.a.post("/doctor/otplogin",V);case 4:t=e.sent,console.log(t.data),w(!0),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),e.t0.response&&x(e.t0.response.data.message),console.log(e.t0.message);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}();return j?m.a.createElement(D,{setOtp:t,otpData:V,phone:V.phone}):m.a.createElement(b.a,{item:!0,xs:12,sm:8,md:5,component:C.a,elevation:6,square:!0,sx:{border:"1px solid #609acf",borderRadius:"1rem"}},m.a.createElement(f.a,{sx:{my:4,mx:4,display:"flex",flexDirection:"column",alignItems:"center"}},m.a.createElement(u.a,{sx:{m:1,bgcolor:"secondary.main"}},m.a.createElement(g.a,null)),m.a.createElement(h.a,{component:"h1",variant:"h5"},"Sign in"),m.a.createElement(f.a,{component:"form",noValidate:!0,onSubmit:T(B),sx:{mt:1}},m.a.createElement(p.a,Object.assign({},k("phone",{required:"Provide phone!"}),{margin:"normal",required:!0,fullWidth:!0,id:"phone",label:"Phone",name:"phone",autoComplete:"phone",autoFocus:!0,onChange:function(e){var t=e.currentTarget;R(Object(l.a)({},V,Object(c.a)({},t.name,t.value)))},value:V.phone,error:!!W.phone,helperText:W.phone?W.phone.message:null})),m.a.createElement(h.a,{sx:{color:"red",m:1}},i||""),m.a.createElement(d.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Send OTP"),m.a.createElement(d.a,{onClick:function(){t(!1)},fullWidth:!0,sx:{mb:4}},"Sign In With Email and password"),m.a.createElement(b.a,{container:!0},m.a.createElement(b.a,{item:!0},m.a.createElement(q.b,{to:"doctor/register",style:{textDecoration:"none",color:"#609acf"}},"Don't have an account? Sign Up"))))))};a.d(t,"default",function(){return F});var B=w.a.mixin({background:"#1E1E1E",color:"white",toast:!0,position:"top-end",showConfirmButton:!1,timerProgressBar:!0});function F(){var e=Object(T.b)(),t=i.useState(),a=Object(s.a)(t,2),n=a[0],m=a[1],x=Object(O.g)(),j=i.useState(!1),w=Object(s.a)(j,2),S=w[0],I=w[1],V=Object(v.a)(),D=V.register,q=V.handleSubmit,F=V.formState.errors,H=i.useState({email:"",password:""}),L=Object(s.a)(H,2),z=L[0],A=L[1],G=function(e){var t=e.currentTarget;A(Object(l.a)({},z,Object(c.a)({},t.name,t.value)))},J=function(){var t=Object(o.a)(r.a.mark(function t(){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.a.post("/doctor/login",z);case 3:a=t.sent,e(Object(W.d)(a.data.token)),e(Object(W.a)(a.data.doctorId)),e(Object(W.c)(a.data.doctorName)),e(Object(W.b)(a.data.image)),B.fire({position:"bottom-right",icon:"success",title:"Logged in",showConfirmButton:!1,timer:3e3}),x("/doctor"),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),m(t.t0.response.data.message);case 15:case"end":return t.stop()}},t,null,[[0,12]])}));return function(){return t.apply(this,arguments)}}();return i.createElement(i.Fragment,null,i.createElement(f.a,{sx:{flexGrow:1}},i.createElement(P.a,null)),i.createElement(E.a,null,i.createElement(b.a,{container:!0,mt:4},i.createElement(b.a,{item:!0,xs:!1,sm:6,sx:{display:{xs:"none",sm:"block"}}},i.createElement(f.a,{item:!0,mt:10,xs:!1,component:"img",sx:{height:"auto",width:"auto",maxWidth:{xs:0,sm:500},borderRadius:100,display:{xs:"none",sm:"block"}},alt:"Hospital",src:k.a})),S?i.createElement(R,{setOtp:I}):i.createElement(b.a,{item:!0,xs:12,sm:8,md:5,component:C.a,elevation:6,sx:{border:"1px solid #609acf",borderRadius:"1rem"}},i.createElement(f.a,{sx:{my:6,mx:4,display:"flex",flexDirection:"column",alignItems:"center"}},i.createElement(u.a,{sx:{m:1,bgcolor:"secondary.main"}},i.createElement(g.a,null)),i.createElement(h.a,{component:"h1",variant:"h5"},"Doctor sign in"),i.createElement(f.a,{component:"form",noValidate:!0,onSubmit:q(J),sx:{mt:1}},i.createElement(p.a,Object.assign({},D("email",{required:"Provide email!"}),{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:G,value:z.email,error:F.email,helperText:F.email?F.email.message:null})),i.createElement(p.a,Object.assign({},D("password",{required:"provide a password!"}),{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",onChange:G,value:z.password,error:F.password,helperText:F.password?F.password.message:null})),i.createElement(h.a,{sx:{color:"red",m:1}},n||""),i.createElement(d.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Sign In"),i.createElement(d.a,{onClick:function(){I(!0)},fullWidth:!0,sx:{mb:4}},"Sign In With OTP"))))),i.createElement(b.a,{container:!0,sx:{display:"flex",justifyContent:"center",alignItems:"center",mt:3}},i.createElement(b.a,{item:!0},i.createElement(d.a,{onClick:function(){x("/login")}},"Not a Doctor? Click here")))))}}}]);
//# sourceMappingURL=10.6b564cee.chunk.js.map