(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{322:function(e,t,n){"use strict";var o=n(622),r=n(621),a=n(567),c=n(612),l=n(0),s=n.n(l),i=n(17),m=n(120);t.a=function(){var e=Object(i.g)();return s.a.createElement(m.a,null,s.a.createElement(o.a,{sx:{display:"flex",flexDirection:"column",alignContent:"center",justifyContent:"center",height:"60vh"}},s.a.createElement(r.a,{elevation:3,sx:{border:1,borderColor:"#EF4242",display:"flex",flexDirection:"column",alignContent:"center",justifyContent:"center",m:{xs:1,sm:15},p:{xs:2,sm:4},backgroundColor:"#eaeaea"}},s.a.createElement(a.a,{sx:{p:2,color:"#595959",fontSize:"1.6rem"},textAlign:"center"},"You are not authorized to access this page !!!"),s.a.createElement(c.a,{onClick:function(){e("/login")},sx:{p:2,fontWeight:"bold"}},"Login To access this page"))))}},585:function(e,t,n){"use strict";n.r(t);var o=n(10),r=n.n(o),a=n(19),c=n(12),l=n(6),s=n(0),i=n(620),m=n(624),u=n(625),f=n(613),p=n(567),x=n(612),d=n(17),y=n(120),g=n(322),E=n(20),b=n.n(E),h=n(14),C=b.a.mixin({background:"#1E1E1E",color:"white",toast:!0,position:"top-end",showConfirmButton:!1,timerProgressBar:!0});t.default=function(){if(localStorage.userToken){var e=Object(d.g)(),t=Object(d.f)().state.details,n=s.useState(!1),o=Object(l.a)(n,2),E=o[0],k=o[1];return s.createElement(y.a,null,s.createElement(f.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center"},s.createElement(i.a,{sx:{fontSize:{xs:"1rem",sm:"1.5rem"},fontFamily:"sans-serif",mt:3,color:"#1976D2"},component:"p"},"Confirm Booking"),s.createElement(m.a,{elevation:3,sx:{border:"1px solid #609acf",mt:3,mb:4,display:"flex",flexDirection:{xs:"column",sm:"row"},minHeight:{xs:0,sm:150},px:{xs:7,sm:10},py:{xs:2,sm:4}}},s.createElement(u.a,{sx:{flex:1,display:"flex",flexDirection:"column",justifyContent:"center"}},s.createElement(i.a,{sx:{fontSize:{xs:"0.85rem",sm:"1rem"},fontFamily:"sans-serif",color:"#595959"},component:"p"},s.createElement("b",null,"Patient Name :")," ",t.user),s.createElement(i.a,{sx:{mt:2,fontSize:{xs:"0.75rem",sm:"1rem",textAlign:"left"},fontFamily:"sans-serif",color:"#595959"},component:"p"},s.createElement("b",null,"Age :")," ",t.age),s.createElement(i.a,{sx:{mt:2,fontSize:{xs:"0.75rem",sm:"1rem",textAlign:"left"},fontFamily:"sans-serif",color:"#595959"},component:"p"},s.createElement("b",null,"Gender :")," ",t.gender),s.createElement(i.a,{sx:{mt:2,fontSize:{xs:"0.75rem",sm:"1rem",textAlign:"left"},fontFamily:"sans-serif",color:"#595959"},component:"p"},s.createElement("b",null,"Mobile :")," ",t.phone),s.createElement(i.a,{sx:{mt:2,fontSize:{xs:"0.75rem",sm:"1rem",textAlign:"left"},fontFamily:"sans-serif",color:"#595959"},component:"p"},s.createElement("b",null,"Appointed to :")," ",t.doctor),s.createElement(i.a,{sx:{mt:2,fontSize:{xs:"0.75rem",sm:"1rem",textAlign:"left"},fontFamily:"sans-serif",color:"#595959"},component:"p"},s.createElement("b",null,"Reason :")," ",t.reason),s.createElement(i.a,{sx:{mt:2,fontSize:{xs:"0.75rem",sm:"1rem",textAlign:"left"},fontFamily:"sans-serif",color:"#595959"},component:"p"},s.createElement("b",null,"Date :")," ",t.date),s.createElement(i.a,{sx:{mt:2,fontSize:{xs:"0.75rem",sm:"1rem",textAlign:"left"},fontFamily:"sans-serif",color:"#595959"},component:"p"},s.createElement("b",null,"Time :")," ",t.time),s.createElement(i.a,{sx:{mt:2,fontSize:{xs:"0.75rem",sm:"1rem",textAlign:"left"},fontFamily:"sans-serif",color:"#595959"},component:"p"},s.createElement("b",null,"Amount to be paid :")," ",t.fee)),s.createElement(p.a,{component:"div",sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",ml:{xs:0,sm:5}}},s.createElement(x.a,{sx:{mt:4,ml:1,backgroundColor:"#EF4242",color:"white","&:hover":{backgroundColor:"white",color:"#EF4242"}},onClick:Object(c.a)(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.fire({title:"Are you sure?",text:"Provided details will be cleared!",background:"#eaeaea",color:"#595959",showCancelButton:!0,cancelButtonColor:"#609ACF",confirmButtonText:"Cancel",cancelButtonText:"Don't Cancel",confirmButtonColor:"#B81C1C"});case 2:t.sent.isConfirmed&&e("/doctors");case 4:case"end":return t.stop()}},t)}))},"Cancel"),s.createElement(x.a,{sx:{fontSize:"0.8rem",mt:4,ml:1,backgroundColor:"#609acf",color:"white","&:hover":{backgroundColor:"white",color:"#609acf"}},disabled:E,onClick:function(){var n=document.createElement("script");n.src="https://checkout.razorpay.com/v1/checkout.js",n.onerror=function(){alert("Error loading Razorpay")},n.onload=Object(c.a)(r.a.mark(function n(){var o,l,s,i,m,u,f,p;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,k(!0),n.next=4,h.a.post("/payment/create",{amount:t.fee+"00"});case 4:return o=n.sent,l=o.data,s=l.amount,i=l.id,m=l.currency,n.next=8,h.a.get("/payment/get-razor-key");case 8:u=n.sent,f=u.data.key,p={key:f,amount:s.toString(),currency:m,name:"Razorpay",description:"Booking Fee",order_id:i,handler:function(){var n=Object(c.a)(r.a.mark(function n(o){var c,l;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h.a.post("/payment/pay",{amount:s,razorpayPaymentId:o.razorpay_payment_id,razorpayOrderId:o.razorpay_order_id,razorpaySignature:o.razorpay_signature});case 2:200===(c=n.sent).status&&(l=Object(a.a)({},t,{paymentId:c.data.paymentId}),h.a.post("/appointment",l,{headers:{"auth-token":localStorage.userToken}}),C.fire({position:"bottom-right",icon:"success",title:"Appointment booked successfully",showConfirmButton:!1,timer:3e3}),e("/appointments"));case 4:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()},k(!1),new window.Razorpay(p).open(),n.next=20;break;case 16:n.prev=16,n.t0=n.catch(0),console.log(n.t0.message),k(!1);case 20:case"end":return n.stop()}},n,null,[[0,16]])})),document.body.appendChild(n)}},"Confirm")))))}return s.createElement(g.a,null)}}}]);
//# sourceMappingURL=16.a087cf1d.chunk.js.map